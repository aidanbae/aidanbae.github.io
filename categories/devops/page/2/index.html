<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Aidan.bae">
        <meta name="description" content="아이단의 블로그">
        <meta name="keywords" content="golang,aidan,kakaogames,kakao,gocd,gocd-agent,infra,javascript,python">
        <meta name="generator" content="Hugo 0.60.0" />
        <title> DevOps | 아이단은 어디갔을까</title>
        <meta name="description" content="DevOps - 아이단의 블로그">
        <meta itemprop="name" content="DevOps">
        <meta itemprop="description" content="DevOps - 아이단의 블로그">
        <meta property="og:title" content="DevOps">
        <meta property="og:description" content="DevOps - 아이단의 블로그">
        <meta property="og:image" content="https://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?size=200">
        <meta property="og:url" content="https://aidanbae.github.io/categories/devops/">
        <meta property="og:site_name" content="아이단은 어디갔을까"><meta property="og:type" content="website">
        <link rel="icon" type="image/png" href="https://aidanbae.github.io/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="https://aidanbae.github.io/favicon-16x16.png" sizes="16x16">

	
	  <link href="https://aidanbae.github.io/categories/devops/" rel="alternate" type="application/rss+xml" title="아이단은 어디갔을까" />
	  <link href="https://aidanbae.github.io/categories/devops/" rel="feed" type="application/rss+xml" title="아이단은 어디갔을까" />
	

        
        
        
        
        <link rel="stylesheet" href="https://aidanbae.github.io/sass/combined.min.e5af985042854cb05807bed3365180e76bf9b8e0f41a2c81f098583599a6fb05.css">

        

        
            
        
    </head>
    <body class="bilberry-hugo-theme">
        
<nav>

    <div class="container">
        <ul class="topnav">
            
                
                    <li><a href="https://aidanbae.github.io/page/about-aidan/">Aidan</a></li>
                
            
        </ul>

        
    </div>
</nav>


        <header>
    <div class="container">
        <div class="logo">
            <a href="https://aidanbae.github.io/" class="logo">
                
                    <img src="https://aidanbae.github.io/do.png" alt="">
                

                <span class="overlay"><i class="fa fa-home"></i></span>
            </a>
        </div>
        <div class="titles">
            <h3 class="title"><a href="https://aidanbae.github.io/">아이단은 어디갔을까</a></h3>
            
                <span class="subtitle">순간 순간이 소중한 목적지</span>
            
        </div>

    

        
        <div class="toggler">
        
            <i class="fa fa-bars" aria-hidden="true"></i>
        </div>
    </div>
</header>


        <div class="main container">
            
    
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="https://aidanbae.github.io/code/docker/docker-netstat/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="https://aidanbae.github.io/code/docker/docker-netstat/">
            
                <img src="https://aidanbae.github.io/code/docker/docker-netstat/featuredImage_hu8fbdd1b26661cf794b0f17932fa1ae38_170191_700x350_fill_q95_box_smart1_2.png" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="https://aidanbae.github.io/code/docker/docker-netstat/">Docker Container 내부 소켓 상태 확인 - nsenter와 netstat</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2019-04-30</span>
            
        

        

        
            <span class="categories">
                
                    <a href="https://aidanbae.github.io/categories/server">Server</a>
                
                    <a href="https://aidanbae.github.io/categories/docker">Docker</a>
                
                    <a href="https://aidanbae.github.io/categories/devops">DevOps</a>
                
            </span>
        

        
            <span class="author"><a href="https://aidanbae.github.io/author/aidan.bae">Aidan.bae</a></span>
        
    </div>

    
        도커로 서비스 개발을 하다보면 상태 확인을 위해 호스트 머신이 아닌 컨테이너에 접근해야하는 경우가 생긴다. 호스트 머신 한 대에 여러 docker 서비스가 떠있을 수 있기 때문이다. (내가 이용 중인 AWS(ECS)도 내가 띄운 서비스 이외에 로그수집기, executor등의 또다른 docker 컨테이너가 떠있다.) 그러므로 호스트 머신에서 netstat 명령어는 모든 도커 서비스의 소켓정보들을 보여주기때문에 특정 서비스에 대한 스코프기능이 지원되지 않는다.
도커를 조금 이용해본 개발자라면 쉽게 docker exec 명령어로 해당 컨테이너에 접근해 내부에서 소켓상태를 살펴보려할 것이다.

        
            <a href="https://aidanbae.github.io/code/docker/docker-netstat/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="https://aidanbae.github.io/tags/docker">docker</a>
                
                    <a href="https://aidanbae.github.io/tags/netstat">netstat</a>
                
                    <a href="https://aidanbae.github.io/tags/docker-container">docker container</a>
                
                    <a href="https://aidanbae.github.io/tags/nsenter">nsenter</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="https://aidanbae.github.io/code/devops/computer/cpucache/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="https://aidanbae.github.io/code/devops/computer/cpucache/">
            
                <img src="https://aidanbae.github.io/code/devops/computer/cpucache/featuredImage_hu040e699061db3073052773bfe1b14c9d_33766_700x350_fill_q95_box_smart1.jpg" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="https://aidanbae.github.io/code/devops/computer/cpucache/">CPU 캐시 이해하기</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2019-04-22</span>
            
        

        

        
            <span class="categories">
                
                    <a href="https://aidanbae.github.io/categories/server">Server</a>
                
                    <a href="https://aidanbae.github.io/categories/devops">DevOps</a>
                
            </span>
        

        
            <span class="author"><a href="https://aidanbae.github.io/author/aidan.bae">Aidan.bae</a></span>
        
    </div>

    
        CPU 캐시란? 컴퓨터 시스템의 성능을 향상 시키기 위해 주로 CPU칩 안에 포함되는 빠르고 작은 매우 비싼 메모리입니다. 프로그램에서 직접적으로 읽거나 쓸 수 없고 하드웨어의 메모리 관리 시스템이 내부적으로 제어합니다. 대부분의 프로그램은 한번 사용할 데이터를 다시 사용할 가능성이 높고, 그 주변의 데이터도 곧 사용할 가능성이 높은 데이터 지역성을 가지고 있다. 데이터 지역성을 활용하여 메인 메모리에 있는 데이터를 캐시 메모리에 불러와 두고, cpu가 필요한 데이터를 캐시에서 먼저 찾도록 하면 향상시킬수 있다.
여기서 포인트는 데이터의 지역성을 활용한다!

        
            <a href="https://aidanbae.github.io/code/devops/computer/cpucache/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="https://aidanbae.github.io/tags/cpu-cache">cpu cache</a>
                
                    <a href="https://aidanbae.github.io/tags/cpu-%EC%BA%90%EC%8B%9C">cpu 캐시</a>
                
                    <a href="https://aidanbae.github.io/tags/%EC%BA%90%EC%8B%9C%EB%9D%BC%EC%9D%B8">캐시라인</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="https://aidanbae.github.io/code/devops/ngrinder/agentcontroller/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="https://aidanbae.github.io/code/devops/ngrinder/agentcontroller/">
            
                <img src="https://aidanbae.github.io/code/devops/ngrinder/agentcontroller/featuredImage_hu07234a9b758c625acecbf523d957e3d9_25016_700x350_fill_q95_box_smart1_2.png" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="https://aidanbae.github.io/code/devops/ngrinder/agentcontroller/">nGrinder agent가 controller에 못붙는 현상</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2018-11-19</span>
            
        

        

        
            <span class="categories">
                
                    <a href="https://aidanbae.github.io/categories/shell">Shell</a>
                
                    <a href="https://aidanbae.github.io/categories/devops">DevOps</a>
                
            </span>
        

        
            <span class="author"><a href="https://aidanbae.github.io/author/aidan.bae">Aidan.bae</a></span>
        
    </div>

    
        마크다운문서가 테마때문에 잘 적용되지 않아 수정할 예정입니다. 다음번 업데이트에 테마를 고칠예정이니 불편해도 양해부탁드려요
nGrinder agent가 controller에 못붙는 현상 환경 IDC에서 AWS로 옮겨오면서 테스트환경을 구축하기위해 n-grinder EC2 인스턴스 이미지를 떠 놨습니다.
참고
n-grinder는 마스터-슬레이브처럼 controller와 agent로 구성됩니다. controller는 하나의 머리 역할을 하는 곳으로 task와 스크립트 관리, 테스트 결과를 수집해 통계자료로 보여주며 웹 인터페이스를 제공한다. agent는 cotroller의 명령을 받아 수행합니다. agent는 유저가 요청한 task정보에 따라 부하를 발생시켜 프로세스와 쓰레드를 관리하고 대상 시스템의 CPU와 메모리를 모니터링합니다.

        
            <a href="https://aidanbae.github.io/code/devops/ngrinder/agentcontroller/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="https://aidanbae.github.io/tags/ngrinder">ngrinder</a>
                
                    <a href="https://aidanbae.github.io/tags/agent">agent</a>
                
                    <a href="https://aidanbae.github.io/tags/ngrinder-agent">ngrinder agent</a>
                
                    <a href="https://aidanbae.github.io/tags/ngrinder-controller">ngrinder controller</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="https://aidanbae.github.io/code/docker/dinddood/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="https://aidanbae.github.io/code/docker/dinddood/">
            
                <img src="https://aidanbae.github.io/code/docker/dinddood/featuredImage_hu8fbdd1b26661cf794b0f17932fa1ae38_170191_700x350_fill_q95_box_smart1_2.png" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="https://aidanbae.github.io/code/docker/dinddood/">DinD(docker in docker)와 DooD(docker out of docker)</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2018-09-03</span>
            
        

        

        
            <span class="categories">
                
                    <a href="https://aidanbae.github.io/categories/server">Server</a>
                
                    <a href="https://aidanbae.github.io/categories/docker">Docker</a>
                
                    <a href="https://aidanbae.github.io/categories/devops">DevOps</a>
                
            </span>
        

        
            <span class="author"><a href="https://aidanbae.github.io/author/aidan.bae">Aidan.bae</a></span>
        
    </div>

    
        Docker의 Client-Server아키텍쳐 단순히 도커를 이용해 이미지를 만들고 띄우는 개발자라면 docker client와 docker daemon이 분리되어 있는 것을 인지하지 못할 수 있다. 반면 CI(Continuous Integration/ 지속적 통합)툴을 사용하며 agent를 세팅하는 DevOps쪽 개발자라면 docker관련 task를 수행하면서 이 사실을 쉽게 접하게된다.
그림처럼 docker시스템 유닛은 크게 3개로 분리되며, Client, Host(Daemon), Registry가 그것이다. 자세한 내용은 이전 포스트 Docker client와 Docker server를 참고.
대부분의 현대 CI 도구들(travis, circle, gocd, jenkins)등이 agent를 통해 docker관련 Task를 수행을 하기 때문에 docker daemon은 호스트머신에서 동작하면서 컨테이너로 동작하는 agent들이 docker-client역할을 하는 경우가 많다.

        
            <a href="https://aidanbae.github.io/code/docker/dinddood/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="https://aidanbae.github.io/tags/docker">docker</a>
                
                    <a href="https://aidanbae.github.io/tags/infra">infra</a>
                
                    <a href="https://aidanbae.github.io/tags/gocd">gocd</a>
                
                    <a href="https://aidanbae.github.io/tags/docker-client">docker-client</a>
                
                    <a href="https://aidanbae.github.io/tags/aws-cli">aws-cli</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="https://aidanbae.github.io/code/devops/mesosmarathon/marathon2/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="https://aidanbae.github.io/code/devops/mesosmarathon/marathon2/">
            
                <img src="https://aidanbae.github.io/code/devops/mesosmarathon/marathon2/featuredImage_hu01e5dfb2581f88dff7c5d1dbf32521d2_31285_700x350_fill_q95_box_smart1.jpg" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="https://aidanbae.github.io/code/devops/mesosmarathon/marathon2/">메소스 마라톤(Mesos Marathon) 어플리케이션 사용하기 - 2</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2018-02-15</span>
            
        

        

        
            <span class="categories">
                
                    <a href="https://aidanbae.github.io/categories/server">Server</a>
                
                    <a href="https://aidanbae.github.io/categories/devops">DevOps</a>
                
            </span>
        

        
            <span class="author"><a href="https://aidanbae.github.io/author/aidan.bae">Aidan.bae</a></span>
        
    </div>

    
        Marathon Application Deployment 마라톤에서 어플리케이션 또는 그룹의 정의가 변경 될 때마다 배포가 수행됩니다. 배포는 다음 작업을 수행 할 수 있는 일련의 작업입니다.
 하나 이상의 어플리케이션을 시작 또는 중지 하나 이상의 어플리케이션을 업그레이드 하나 이상의 어플리케이션을 스케일조정  배포에는 시간이 걸리고 즉시 사용할 수 없습니다.
성공적으로 마칠 때까지 마라톤에서 배포가 활성된 것으로 간주.
 종속성 종속성이 없는 어플리케이션은 제한없이 순서에 상관없이 배포할 수 있습니다. 하지만 있는 경우에는 필요한 순서로 배치 작업이 수행됩니다.

        
            <a href="https://aidanbae.github.io/code/devops/mesosmarathon/marathon2/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="https://aidanbae.github.io/tags/mesos-marathon">mesos marathon</a>
                
                    <a href="https://aidanbae.github.io/tags/mesos">mesos</a>
                
                    <a href="https://aidanbae.github.io/tags/dcos">dcos</a>
                
                    <a href="https://aidanbae.github.io/tags/devops">devops</a>
                
                    <a href="https://aidanbae.github.io/tags/marathon">marathon</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <a class="bubble" href="https://aidanbae.github.io/code/devops/mesosmarathon/marathon1/">
    <i class="fa fa-fw fa-code"></i>
</a>

<article class="default article">
    
    <div class="featured-image">
        <a href="https://aidanbae.github.io/code/devops/mesosmarathon/marathon1/">
            
                <img src="https://aidanbae.github.io/code/devops/mesosmarathon/marathon1/featuredImage_hu01e5dfb2581f88dff7c5d1dbf32521d2_31285_700x350_fill_q95_box_smart1.jpg" alt="">
            
        </a>
    </div>


    <div class="content">
    <h3><a href="https://aidanbae.github.io/code/devops/mesosmarathon/marathon1/">메소스 마라톤(Mesos Marathon) 어플리케이션 사용하기 - 1</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2018-02-11</span>
            
        

        

        
            <span class="categories">
                
                    <a href="https://aidanbae.github.io/categories/server">Server</a>
                
                    <a href="https://aidanbae.github.io/categories/devops">DevOps</a>
                
            </span>
        

        
            <span class="author"><a href="https://aidanbae.github.io/author/aidan.bae">Aidan.bae</a></span>
        
    </div>

    
        Mesos Marathon - Application Basic 어플리케이션은 마라톤의 필수 기능입니다. 각 어플리케이션은 일반적으로 여러 호스트에서 실행되는 많은 인스턴스가있는 long-running service를 나타냅니다. 어플리케이션 인스턴스를 Task라고 부릅니다. Application Definition은 작업을 유지하고 시작하는데 필요한 모든것을 설명하는 녀석입니다.
주의사항 &gt; Marathon은 어플리케이션 이름에 점(.)을 허용하지만 점으로 표시된 이름은 적절한 서비스 검색 동작을 방해 할 수 있습니다. 서비스 검색 매커니즘을 사용하려는 경우, 응용프로그램 이름에 점을 넣으면 안됩니다.
정식 사이트에서는 Hello Marathon을 띄워보는 인라인쉘 스크립트를 소개하는데요.
같이 한번 도전해보겠습니다.

        
            <a href="https://aidanbae.github.io/code/devops/mesosmarathon/marathon1/" class="more">Continue reading</a>
        
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="https://aidanbae.github.io/tags/mesos-marathon">mesos marathon</a>
                
                    <a href="https://aidanbae.github.io/tags/mesos">mesos</a>
                
                    <a href="https://aidanbae.github.io/tags/dcos">dcos</a>
                
                    <a href="https://aidanbae.github.io/tags/devops">devops</a>
                
                    <a href="https://aidanbae.github.io/tags/marathon">marathon</a>
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    

    
    <div class="paginator">
        

        
            <a href="https://aidanbae.github.io/categories/devops/" class="newer">Newer posts <i class="fa fa-angle-double-right"></i></a>
        
    </div>



        </div>

        
<footer>
    <div class="container">

        
        <div class="recent-posts">
            <strong>Latest posts</strong>
                <ul>
                
                    <li>
                        <a href="https://aidanbae.github.io/audio/chaos/">너의 혼돈을 사랑하라</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/code/devops/k8s/pleg/">PLEG(Pod LifeCycle Event Generator)와 kubelet</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/code/devops/bazel/">bazel 빌드</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/video/toss/">위대한 성취는 위대한 목표로부터</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/article/book/niche/">니체의말</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/code/golang/tcp-server/">TCP 서버 구현과 패킷분석</a>
                    </li>
                
                </ul>
        </div>
        

        
        <div class="categories">
            <a href="https://aidanbae.github.io/categories/"><strong>Categories</strong></a>
                <ul>
                
                    <li>
                        <a href="https://aidanbae.github.io/categories/code">Code (20)</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/categories/golang">Golang (17)</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/categories/wisdom">Wisdom (15)</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/categories/book">Book (14)</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/categories/devops">Devops (13)</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/categories/server">Server (13)</a>
                    </li>
                
                    <li>
                        <a href="https://aidanbae.github.io/categories/smalltalk">Smalltalk (13)</a>
                    </li>
                
            </ul>
        </div>
        

        <div class="right">
            
            <div class="external-profiles">
                <strong>Social media</strong>

                
                
                
                
                
                
                
                
                
                
                    <a href="https://github.com/aidanbae" target="_blank"><i class="fa fa-github"></i></a>
                
                
            </div>
            

            
        </div>
    </div>
</footer>


<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://github.com/Lednerb" target="_blank">
                &copy;
                
                    2017
                
                by Lednerb
            </a>
	    -
		<a href="https://aidanbae.github.io/categories/devops/index.xml">RSS</a>
        </div>
        <div class="author">
            <a href="https://github.com/Lednerb/bilberry-hugo-theme" target="_blank">Bilberry Hugo Theme</a>
        </div>
    </div>
</div>


        

        

        
        
        <script type="text/javascript" src="https://aidanbae.github.io/js/externalDependencies.39c47e10e241eae2947b3fe21809c572.js" integrity="md5-OcR&#43;EOJB6uKUez/iGAnFcg=="></script>

        
        
        <script type="text/javascript" src="https://aidanbae.github.io/js/theme.ff50ae6dc1bfc220b23bf69dbb41b54e.js" integrity="md5-/1CubcG/wiCyO/adu0G1Tg=="></script>

        <script>
            $(".moment").each(function() {
                $(this).text(
                    moment( $(this).text() )
                        .locale( "en" )
                        .format('LL')
                );
            });

            $(".footnote-return sup").html("");
        </script>

        
            
        

        


    </body>
</html>
